<button id="tt" onclick="fn()"> Regenerate </button>
<input id="inp" type="text" size="13" placeholder="  Character length ">
<p id="ta">Count: 0</p>
<p id="th"></p>
<div class="rockbottom" style="position: absolute; bottom: 15px;">
    <button onclick="location.href='index.html'" style="height: 70px; width: 70px;"> Back </button>
</div>
<script>
let pool = "abcdefghijklmnopqrstuvwxyz. "
let a;
let b = 0;
var flip = false;
function fn() {
	clearInterval(a);
    let i = document.getElementById("inp").value; if(i == 0 || Number(i) != i) i = 30;
	if(flip == false) {
    	document.getElementById("th").innerHTML = "";
        document.getElementById("ta").innerHTML = "Count: 0";
        document.getElementById("tt").innerHTML = "Stop";
    	flip = true;
    	a = setInterval(function(){
        	b++;
    		document.getElementById("th").innerHTML += pool[Math.floor(Math.random() * pool.length)];
            document.getElementById("ta").innerHTML = `Count: ${b}`;
            if(b == i) {
            	flip = false;
                document.getElementById("tt").innerHTML = "Regenerate";
                clearInterval(a);
                a = null;
                b = 0;
            }
    	},1);
    } else if(flip == true) {
     	clearInterval(a);
        document.getElementById("tt").innerHTML = "Regenerate";
        flip = false;
        a = null;
        b = 0;
    }
}

// A little Library of Babel thing I tried to make. By no means is it an actual Library of Babel
// but the idea is kinda here. Also in line with Shakespeare's Monkey theory.

</script>